---
layout: posts
title: "야픽 서버 자동화 & 빌드"
date: 2022-12-19
categories:
  - firebase
tags: ["Yapick", "트러블 슈팅", "firebase"]
---

무사히 깃허브 페이지로 배포까지 성공했지만 아직 흰 화면에 404 에러를 띄우고있다.

<br>

![6-1.png](/assets/img/6-1.png)

<br>
<br>

가장먼저 생각한것이 서버를 열어야 겠다라는 생각이였고 (어차피 해야함) firebase 를 import 해 실시간으로 조작시 DB 에 저장되게 설정하고

설정 종료후에도 404 가 해결이 안되나 확인해 보기로 했다. ~~안될거 앎~~

## firebase

firebase 에 로그인 후 프로젝트 웹을 추가해줬다.

<br>

![6-1.png](/assets/img/6-1.png)

<br>

SDK 추가 하는도중 api key 등의 값들은 private 이기 때문에 .env 파일에 각 값들을 적어주고 env 에서 끌어쓰도록 했다 (REACT_APP 으로 시작하는 환경변수만 인식한다고 한다 react 에서는)

```javascript
//.env
REACT_APP_FB_API_KEY = "";
REACT_APP_FB_AUTH_DOMAIN = "";
REACT_APP_FB_PROJECT_ID = "";
REACT_APP_FB_STORAGE_BUCKET = "";
REACT_APP_FB_MESSAGING_SENDER_ID = "";
REACT_APP_FB_API_ID = "";

//firebase.js
import firebase from "firebase";

const firebaseConfig = {
  apiKey: process.env.REACT_APP_FB_API_KEY,
  authDomain: process.env.REACT_APP_FB_AUTH_DOMAIN,
  projectId: process.env.REACT_APP_FB_PROJECT_ID,
  storageBucket: process.env.REACT_APP_FB_STORAGE_BUCKET,
  messagingSenderId: process.env.REACT_APP_FB_MESSAGING_SENDER_ID,
  appId: process.env.REACT_APP_FB_API_ID,
};

const firebaseApp = firebase.initializeApp(firebaseConfig);

const db = firebaseApp.firestore();

export { firebase, firebaseApp, db };
```

<br>

이제 firebase.js 에서 파이어베이스를 import 하고 firestore api 를 사용해보자

<br>
<br>

백엔드쪽에서 만들어준 Java 와 파이어베이스를 연동하기위해 연동하는 블로그를 찾아 따라해보기로 했다. ~~백엔드는 정말 모르겠~~

<br>

gradle 에 이 2개의 라이브러리를 추가해줄 필요가 있다한다.

```
compile group: 'com.google.firebase', name: 'firebase-admin', version: '6.8.1'
providedCompile group: 'com.google.auto.value', name: 'auto-value', version: '1.6.5'
```

<br>
